{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://ngx-auto-table/lib/app-table-csv-export.component.ts","ng://ngx-auto-table/lib/ngx-auto-table.component.ts","ng://ngx-auto-table/lib/app-table-loader.component.ts","ng://ngx-auto-table/lib/ngx-auto-table.module.ts"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__generator","thisArg","body","f","y","g","_","label","sent","trys","ops","next","verb","throw","return","Symbol","iterator","v","step","op","TypeError","done","value","pop","push","e","__read","o","m","r","ar","error","AppExportCsvExportComponent","Component","args","selector","template","Input","AutoTableComponent","selectedBulk","EventEmitter","columnDefinitions","columnDefinitionsAll","columnDefinitionsAllArray","headerKeysAll","headerKeysAllVisible","headerKeysDisplayed","headerKeysDisplayedMap","pageSize","filterControl","FormControl","selectionMultiple","SelectionModel","selectionSingle","$onDestroyed","Subject","ngOnInit","_this","config","data$","pipe","filter","takeUntil","subscribe","originalData","console","log","dataSource","MatTableDataSource","paginator","sort","hasNoItems","firstDataItem","initDisplayedColumns","initExport","initFilter","$triggerSelectItem","item","str","JSON","stringify","foundItem","data","find","row","select","clearSelected","clear","ngOnDestroy","complete","applyFilter","filterValue","trim","toLowerCase","firstRow","keysData","Set","keys","keysHeader","delete","allFieldsExist","Array","from","reduce","acc","cur","has","rowFields","filterPredicate","filterText","includes","_b","__values","tslib_1.__values","_c","dataVal","exportFilename","exportData","map","dataItem","exportRowFormat","getKeyHeader","key","inputDef","header","toTitleCase","replace","txt","charAt","toUpperCase","substr","initColumnDefinitions","hideFields","hideFields_1","x","displayed","def","hide","d","field","setDisplayedColumns","setValue","inputDefintionFields","forEach","inputDefintion","forceWrap","k","selected","c","actionsBulk","unshift","actions","isAllSelected","numSelected","bulkSelectMaxCount","filteredData","masterToggle","selectAll","emit","sortData","cutArray","slice","isMaxReached","onColumnFilterChange","$event","selectedValues","onClickBulkItem","isSelected","deselect","warn","toggle","onClickRow","onSelectItem","onDoubleClickRow","onSelectItemDoubleClick","onClickBulkAction","action","__awaiter","_arguments","P","generator","Promise","resolve","reject","fulfilled","rejected","result","then","onClick","_a","obj","debug","Output","ViewChild","MatPaginator","MatSort","AppTableLoaderComponent","sharedComponents","AutoTableModule","NgModule","declarations","__spread","concat","exports","imports","CsvModule","ReactiveFormsModule","MatAutocompleteModule","MatButtonModule","MatButtonToggleModule","MatCheckboxModule","MatFormFieldModule","MatIconModule","MatInputModule","MatMenuModule","MatPaginatorModule","MatProgressBarModule","MatProgressSpinnerModule","MatSelectModule","MatSortModule","MatTableModule","MatToolbarModule","CommonModule","RouterModule"],"mappings":"iuBA6BO,IAAIA,EAAW,WAQlB,OAPAA,EAAWC,OAAOC,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,IAE9E,OAAON,IAEKU,MAAMC,KAAMP,YAqChC,SAAgBQ,EAAYC,EAASC,GACjC,IAAsGC,EAAGC,EAAGhB,EAAGiB,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPpB,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOqB,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAIC,QAASD,EAAK,GAAIE,SAAUF,EAAK,IAAwB,mBAAXG,SAA0BV,EAAEU,OAAOC,UAAY,WAAa,OAAOjB,OAAUM,EACvJ,SAASO,EAAKrB,GAAK,OAAO,SAAU0B,GAAK,OACzC,SAASC,EAAKC,GACV,GAAIhB,EAAG,MAAM,IAAIiB,UAAU,mCAC3B,KAAOd,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAMhB,EAAY,EAAR+B,EAAG,GAASf,EAAU,UAAIe,EAAG,GAAKf,EAAS,YAAOhB,EAAIgB,EAAU,YAAMhB,EAAES,KAAKO,GAAI,GAAKA,EAAEO,SAAWvB,EAAIA,EAAES,KAAKO,EAAGe,EAAG,KAAKE,KAAM,OAAOjC,EAE3J,OADIgB,EAAI,EAAGhB,IAAG+B,EAAK,CAAS,EAARA,EAAG,GAAQ/B,EAAEkC,QACzBH,EAAG,IACP,KAAK,EAAG,KAAK,EAAG/B,EAAI+B,EAAI,MACxB,KAAK,EAAc,OAAXb,EAAEC,QAAgB,CAAEe,MAAOH,EAAG,GAAIE,MAAM,GAChD,KAAK,EAAGf,EAAEC,QAASH,EAAIe,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKb,EAAEI,IAAIa,MAAOjB,EAAEG,KAAKc,MAAO,SACxC,QACI,KAAkBnC,EAAe,GAA3BA,EAAIkB,EAAEG,MAAYhB,QAAcL,EAAEA,EAAEK,OAAS,MAAkB,IAAV0B,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEb,EAAI,EAAG,SACjG,GAAc,IAAVa,EAAG,MAAc/B,GAAM+B,EAAG,GAAK/B,EAAE,IAAM+B,EAAG,GAAK/B,EAAE,IAAM,CAAEkB,EAAEC,MAAQY,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYb,EAAEC,MAAQnB,EAAE,GAAI,CAAEkB,EAAEC,MAAQnB,EAAE,GAAIA,EAAI+B,EAAI,MAC7D,GAAI/B,GAAKkB,EAAEC,MAAQnB,EAAE,GAAI,CAAEkB,EAAEC,MAAQnB,EAAE,GAAIkB,EAAEI,IAAIc,KAAKL,GAAK,MACvD/B,EAAE,IAAIkB,EAAEI,IAAIa,MAChBjB,EAAEG,KAAKc,MAAO,SAEtBJ,EAAKjB,EAAKL,KAAKI,EAASK,GAC1B,MAAOmB,GAAKN,EAAK,CAAC,EAAGM,GAAIrB,EAAI,UAAeD,EAAIf,EAAI,EACtD,GAAY,EAAR+B,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEG,MAAOH,EAAG,GAAKA,EAAG,QAAK,EAAQE,MAAM,GArB9BH,CAAK,CAAC3B,EAAG0B,MAwC7D,SAAgBS,EAAOC,EAAGpC,GACtB,IAAIqC,EAAsB,mBAAXb,QAAyBY,EAAEZ,OAAOC,UACjD,IAAKY,EAAG,OAAOD,EACf,IAAmBE,EAAYJ,EAA3BnC,EAAIsC,EAAE/B,KAAK8B,GAAOG,EAAK,GAC3B,IACI,WAAc,IAANvC,GAAsB,EAANA,QAAcsC,EAAIvC,EAAEqB,QAAQU,MAAMS,EAAGN,KAAKK,EAAEP,OAExE,MAAOS,GAASN,EAAI,CAAEM,MAAOA,WAEzB,IACQF,IAAMA,EAAER,OAASO,EAAItC,EAAU,YAAIsC,EAAE/B,KAAKP,WAExC,GAAImC,EAAG,MAAMA,EAAEM,OAE7B,OAAOD,ECnIX,IAAAE,EAAA,WAEA,SAAAA,KA8BA,2BA9BCC,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,uBACVC,SAAU,+PAaR,oJAWDC,EAAAA,wBAEAA,EAAAA,SAEHL,EAhCA,GC+DAM,EAAA,WAAA,SAAAA,IAOEvC,KAAAwC,aAAe,IAAIC,EAAAA,aAInBzC,KAAA0C,kBAEI,GACJ1C,KAAA2C,qBAEI,GACJ3C,KAAA4C,0BAAwD,GAExD5C,KAAA6C,cAAgB,GAChB7C,KAAA8C,qBAAuB,GACvB9C,KAAA+C,oBAAsB,GACtB/C,KAAAgD,uBAAyB,GAIzBhD,KAAAiD,SAAW,GAQXjD,KAAAkD,cAAgB,IAAIC,EAAAA,YAEpBnD,KAAAoD,kBAAoB,IAAIC,EAAAA,gBAAoB,EAAM,IAClDrD,KAAAsD,gBAAkB,IAAID,EAAAA,gBAAoB,EAAO,IAEjDrD,KAAAuD,aAAe,IAAIC,EAAAA,QA6SrB,OA3SEjB,EAAA3C,UAAA6D,SAAA,WAAA,IAAAC,EAAA1D,KACEA,KAAK2D,OAAOC,MACTC,KAAKC,EAAAA,OAAM,SAACpC,GAAK,QAAEA,KACnBmC,KAAKE,EAAAA,UAAU/D,KAAKuD,eACpBS,UAAS,SAACC,GAKT,GAJAC,QAAQC,IAAI,+BAAgC,CAAEF,aAAYA,IAC1DP,EAAKU,WAAa,IAAIC,EAAAA,mBAAmBJ,GACzCP,EAAKU,WAAWE,UAAYZ,EAAKY,UACjCZ,EAAKU,WAAWG,KAAOb,EAAKa,MACxBN,GAAiBA,EAAavE,OAAlC,CAIEgE,EAAKc,YAAa,EAEhBd,EAAKC,OAAOV,WACdS,EAAKT,SAAWS,EAAKC,OAAOV,cAExBwB,EAAgBR,EAAa,GACnCP,EAAKgB,qBAAqBD,GAC1Bf,EAAKiB,WAAWV,GAChBP,EAAKkB,WAAWX,QAXdP,EAAKc,YAAa,IAcpBxE,KAAK2D,OAAOkB,oBACd7E,KAAK2D,OAAOkB,mBACThB,KAAKE,EAAAA,UAAU/D,KAAKuD,eACpBS,UAAS,SAACc,GACTpB,EAAKS,IAAI,qBAAsBW,OACzBC,EAAMC,KAAKC,UAAUH,GACrBI,EAAYxB,EAAKU,WAAWe,KAAKC,KAAI,SACzCC,GAAO,OAAAL,KAAKC,UAAUI,KAASN,IAE7BG,GACFxB,EAAKJ,gBAAgBgC,OAAOJ,KAKhClF,KAAK2D,OAAO4B,eACdvF,KAAK2D,OAAO4B,cACT1B,KAAKE,EAAAA,UAAU/D,KAAKuD,eACpBS,UAAS,WACRN,EAAKS,IAAI,iBACTT,EAAKN,kBAAkBoC,QACvB9B,EAAKJ,gBAAgBkC,WAK7BjD,EAAA3C,UAAA6F,YAAA,WACEzF,KAAKuD,aAAa3C,OAClBZ,KAAKuD,aAAamC,YAGpBnD,EAAA3C,UAAA+F,YAAA,SAAYC,GACV5F,KAAKoE,WAAWN,OAAS8B,EAAYC,OAAOC,cAC5C9F,KAAKoD,kBAAkBoC,QACvBxF,KAAKsD,gBAAgBkC,SAGvBjD,EAAA3C,UAAAgF,WAAA,SAAWX,GACT,GAAKA,EAAavE,OAAlB,KAGMqG,EAAW9B,EAAa,GACxB+B,EAAW,IAAIC,IAAI9G,OAAO+G,KAAKH,IAC/BI,EAAa,IAAIF,IAAIjG,KAAK+C,qBAChCoD,EAAWC,UAAO,UAClBD,EAAWC,UAAO,cACZC,EAAiBC,MAAMC,KAAKJ,GAAYK,OAAM,SAAEC,EAAKC,GACzD,OAAOV,EAASW,IAAID,IAAQD,IAC3B,GAEHzG,KAAKmE,IAAI,eAAgB,CACvByC,UAAWZ,EACXK,eAAcA,EACdtD,oBAAqB/C,KAAK+C,sBAE5B/C,KAAKoE,WAAWyC,gBAAe,SAAI1B,EAAS2B,WAC1C,IAAKA,EACH,OAAO,EAET,IAAKT,EAEH,OADcrB,KAAKC,UAAUE,GAAMW,cACtBiB,SAASD,OAExB,IAAkB,IAAAE,EFzFxB,SAIgBC,EAASrF,GACrB,IAAIC,EAAsB,mBAAXb,QAAyBY,EAAEZ,OAAOC,UAAW1B,EAAI,EAChE,OAAIsC,EAAUA,EAAE/B,KAAK8B,GACd,CACHhB,KAAM,WAEF,OADIgB,GAAKrC,GAAKqC,EAAElC,SAAQkC,OAAI,GACrB,CAAEL,MAAOK,GAAKA,EAAErC,KAAM+B,MAAOM,KE+ExBsF,CAAAZ,MAAMC,KAAKJ,IAAWgB,EAAAH,EAAApG,QAAAuG,EAAA7F,KAAA6F,EAAAH,EAAApG,OAAE,CAArC,IACGwG,EAAUjC,EADJgC,EAAA5F,OAIZ,GAFYyD,KAAKC,UAAUmC,GACPtB,cAAciB,SAASD,GAEzC,OAAO,2GAMfvE,EAAA3C,UAAA+E,WAAA,SAAWV,GAAX,IAAAP,EAAA1D,KACEA,KAAKqH,eAAiBrH,KAAK2D,OAAO0D,eAC7BrH,KAAKqH,iBAGVrH,KAAKsH,WAAarD,EAAasD,IAAG,SAACC,GACjC,OAAK9D,EAAKC,OAAO8D,gBAGV/D,EAAKC,OAAO8D,gBAAgBD,GAF1BA,MAMNjF,EAAA3C,UAAA8H,aAAP,SAAoBC,OACZC,EAAW5H,KAAK0C,kBAAkBiF,GACxC,OAAIC,GAA+B,MAAnBA,EAASC,OAChBD,EAASC,OAEX7H,KAAK8H,YAAYH,IAGlBpF,EAAA3C,UAAAkI,YAAR,SAAoB/C,GAClB,OAAOA,EAAIgD,QAAQ,IAAK,KAAKA,QAAQ,SAAQ,SAAWC,GACtD,OAAOA,EAAIC,OAAO,GAAGC,cAAgBF,EAAIG,OAAO,GAAGrC,iBAIvDvD,EAAA3C,UAAA8E,qBAAA,SAAqBD,GAKnB,GAJAzE,KAAKoI,sBAAsB3D,GAE3BzE,KAAK6C,cAAgB1D,OAAO+G,KAAKlG,KAAK2C,sBACtC3C,KAAK8C,qBAAuB9C,KAAK6C,cAC7B7C,KAAK2D,OAAO0E,WAAY,KAEpBC,EAAa,IAAIrC,IAAIjG,KAAK2D,OAAO0E,YACvCrI,KAAK8C,qBAAuB9C,KAAK6C,cAAciB,OAAM,SACnDyE,GAAK,OAACD,EAAW3B,IAAI4B,SAInBC,EAAYxI,KAAK4C,0BACpBkB,OAAM,SAAC2E,GAAO,OAACA,EAAIC,OACnBnB,IAAG,SAACoB,GAAK,OAAAA,EAAEC,QAEd5I,KAAK6I,oBAAoBL,GAEzBxI,KAAKkD,cAAc4F,SAAS9I,KAAK+C,sBAGnCR,EAAA3C,UAAAwI,sBAAA,SAAsB3D,GAAtB,IAAAf,EAAA1D,KAEQ+I,EAAuB5J,OAAO+G,KAAKlG,KAAK0C,mBAC9CqG,EAAqBC,QAAO,SAAEJ,OACtBK,EAAiBvF,EAAKhB,kBAAkBkG,GAC9ClF,EAAKf,qBAAqBiG,GAAS,CACjCf,OAAQnE,EAAKgE,aAAakB,GAC1BvG,SAAU4G,EAAe5G,SACzBqG,KAAMO,EAAeP,KACrBQ,UAAWD,EAAeC,aAKR/J,OAAO+G,KAAKzB,GACpBuE,QAAO,SAAEJ,GACflF,EAAKf,qBAAqBiG,KAIhClF,EAAKf,qBAAqBiG,GAAS,CACjCf,OAAQnE,EAAKoE,YAAYc,GACzBF,MAAM,MAIV1I,KAAK4C,0BAA4BzD,OAAO+G,KAAKlG,KAAK2C,sBAAsB4E,IAAG,SACzE4B,GACE,OAAAjK,EAAA,GACKwE,EAAKf,qBAAqBwG,GAAE,CAC/BP,MAAOO,MAIbnJ,KAAKmE,IAAI,wBAAyB,CAChCM,cAAaA,EACbsE,qBAAoBA,KAKxBxG,EAAA3C,UAAAiJ,oBAAA,SAAoBO,GAApB,IAAA1F,EAAA1D,KAEEA,KAAK8C,qBAAqBkG,QAAO,SAC/BG,GAAK,OAACzF,EAAKV,uBAAuBmG,IAAK,IAGzCC,EAASJ,QAAO,SAACK,GAAK,OAAC3F,EAAKV,uBAAuBqG,IAAK,IACxDrJ,KAAK+C,oBAAsB5D,OAAO+G,KAAKlG,KAAKgD,wBAAwBc,OAAM,SACxEqF,GAAK,OAAAzF,EAAKV,uBAAuBmG,KAG/BnJ,KAAK2D,OAAO2F,aACdtJ,KAAK+C,oBAAoBwG,QAAQ,UAG/BvJ,KAAK2D,OAAO6F,SACdxJ,KAAK+C,oBAAoBtB,KAAK,WAKlCc,EAAA3C,UAAA6J,cAAA,eACQC,EAAc1J,KAAKoD,kBAAkBgG,SAAS1J,OAGpD,OADEM,KAAK2D,OAAOgG,oBAAsB3J,KAAKoE,WAAWwF,aAAalK,SAC1DgK,GAITnH,EAAA3C,UAAAiK,aAAA,WACE7J,KAAKyJ,gBAAkBzJ,KAAKoD,kBAAkBoC,QAAUxF,KAAK8J,YAC7D9J,KAAKwC,aAAauH,KAAK/J,KAAKoD,kBAAkBgG,WAGxC7G,EAAA3C,UAAAkK,UAAR,WAAA,IAAApG,EAAA1D,KACEA,KAAKoE,WAAW4F,SACdhK,KAAKoE,WAAWwF,aAChB5J,KAAKoE,WAAWG,UAEd0F,EAAWjK,KAAKoE,WAAWwF,aAC3B5J,KAAK2D,OAAOgG,qBACdM,EAAWjK,KAAKoE,WAAWwF,aAAaM,MACtC,EACAlK,KAAK2D,OAAOgG,qBAGhBM,EAASjB,QAAO,SAAC3D,GACf3B,EAAKN,kBAAkBkC,OAAOD,MAIlC9C,EAAA3C,UAAAuK,aAAA,WACE,QAAKnK,KAAK2D,OAAOgG,oBAIf3J,KAAKoD,kBAAkBgG,SAAS1J,QAAUM,KAAK2D,OAAOgG,oBAI1DpH,EAAA3C,UAAAwK,qBAAA,SAAqBC,GACnBnG,QAAQC,IAAI,CAAEkG,OAAMA,QACdC,EAAiBtK,KAAKkD,cAAc3B,MAC1CvB,KAAK6I,oBAAoByB,GACzBtK,KAAK4E,WAAW5E,KAAKoE,WAAWe,OAGlC5C,EAAA3C,UAAA2K,gBAAA,SAAgBF,EAAQvF,GACtB,GAAIuF,EAAQ,KACJG,EAAaxK,KAAKoD,kBAAkBoH,WAAW1F,GAChD9E,KAAKmK,eAGJK,EACFxK,KAAKoD,kBAAkBqH,SAAS3F,GAEhC9E,KAAK0K,OALP1K,KAAKoD,kBAAkBuH,OAAO7F,GAQhC9E,KAAKwC,aAAauH,KAAK/J,KAAKoD,kBAAkBgG,YAIlD7G,EAAA3C,UAAAgL,WAAA,SAAWP,EAAQhF,GACbrF,KAAK2D,OAAOkH,eACd7K,KAAKmE,IAAI,eAAgB,CAAEkG,OAAMA,EAAEhF,IAAGA,IACtCrF,KAAKsD,gBAAgBgC,OAAOD,GAC5BrF,KAAK2D,OAAOkH,aAAaxF,KAI7B9C,EAAA3C,UAAAkL,iBAAA,SAAiBT,EAAQhF,GACnBrF,KAAK2D,OAAOoH,0BACd/K,KAAKmE,IAAI,qBAAsB,CAAEkG,OAAMA,EAAEhF,IAAGA,IAC5CrF,KAAKsD,gBAAgBgC,OAAOD,GAC5BrF,KAAK2D,OAAOoH,wBAAwB1F,KAIlC9C,EAAA3C,UAAAoL,kBAAN,SAAwBC,UF/V1B,SAyBgBC,EAAUhL,EAASiL,EAAYC,EAAGC,GAC9C,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUlK,GAAS,IAAMJ,EAAKkK,EAAUzK,KAAKW,IAAW,MAAOG,GAAK8J,EAAO9J,IACpF,SAASgK,EAASnK,GAAS,IAAMJ,EAAKkK,EAAiB,SAAE9J,IAAW,MAAOG,GAAK8J,EAAO9J,IACvF,SAASP,EAAKwK,GAAUA,EAAOrK,KAAOiK,EAAQI,EAAOpK,OAAS,IAAI6J,EAAE,SAAUG,GAAWA,EAAQI,EAAOpK,SAAWqK,KAAKH,EAAWC,GACnIvK,GAAMkK,EAAYA,EAAUtL,MAAMG,EAASiL,GAAc,KAAKvK,0FEkUlE,MAAA,CAAA,EAAMqK,EAAOY,QAAQ7L,KAAKoD,kBAAkBgG,yBAA5C0C,EAAArL,OACAT,KAAKoD,kBAAkBoC,kBAGzBjD,EAAA3C,UAAAuE,IAAA,SAAIY,EAAagH,GACX/L,KAAK2D,OAAOqI,OACd9H,QAAQC,IAAI,sBAAwBY,EAAKgH,IAI7CxJ,EAAA3C,UAAA8K,KAAA,iCAnVDxI,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,iBACVC,SAAA,uxPAIC4J,EAAAA,uBAEA3J,EAAAA,iCAEAA,EAAAA,yBAeA4J,EAAAA,UAAS/J,KAAA,CAACgK,EAAAA,4BAEVD,EAAAA,UAAS/J,KAAA,CAACiK,EAAAA,YAyTb7J,EApVA,GC/DA8J,EAAA,WAEA,SAAAA,KAgCsC,2BAhCrCnK,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,qBACVC,SAAU,0OAUR,6YAoBkCgK,EAlCtC,GC6BMC,EAAmB,CAAC/J,EAAoB8J,GAE9CE,EAAA,WAAA,SAAAA,KAyB8B,2BAzB7BC,EAAAA,SAAQrK,KAAA,CAAC,CACRsK,aJsGF,SAAgBC,IACZ,IAAK,IAAI3K,EAAK,GAAIxC,EAAI,EAAGA,EAAIE,UAAUC,OAAQH,IAC3CwC,EAAKA,EAAG4K,OAAOhL,EAAOlC,UAAUF,KACpC,OAAOwC,EIzGG2K,CAAMJ,EAAgB,CAAErK,IACpC2K,QAASN,EACTO,QAAS,CACPC,EAAAA,UACAC,EAAAA,oBACAC,EAAAA,sBACAC,EAAAA,gBACAC,EAAAA,sBACAC,EAAAA,kBACAC,EAAAA,mBACAC,EAAAA,cACAC,EAAAA,eACAC,EAAAA,cACAC,EAAAA,mBACAC,EAAAA,qBACAC,EAAAA,yBACAC,EAAAA,gBACAC,EAAAA,cACAC,EAAAA,eACAC,EAAAA,iBACAC,EAAAA,aACAC,EAAAA,kBAG0BzB,EAzB9B","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-table-csv-export',\r\n  template: `\r\n    <a\r\n      *ngIf=\"dataArray\"\r\n      csvLink\r\n      [data]=\"dataArray\"\r\n      [filename]=\"filename\"\r\n      mat-raised-button\r\n    >\r\n      <mat-icon title=\"Export as CSV\">file_download</mat-icon>\r\n      <span>Export CSV</span>\r\n    </a>\r\n  `,\r\n  styles: [\r\n    `\r\n      a {\r\n        color: black;\r\n      }\r\n      mat-icon {\r\n        padding-right: 5px;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class AppExportCsvExportComponent {\r\n  @Input()\r\n  dataArray: [];\r\n  @Input()\r\n  filename: string;\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  OnDestroy,\r\n  ViewChild,\r\n  Output,\r\n  EventEmitter\r\n} from \"@angular/core\";\r\nimport { MatTableDataSource, MatPaginator, MatSort } from \"@angular/material\";\r\nimport { Observable, Subject } from \"rxjs\";\r\nimport { FormControl } from \"@angular/forms\";\r\nimport { SelectionModel } from \"@angular/cdk/collections\";\r\nimport { filter, takeUntil } from \"rxjs/operators\";\r\n\r\nexport interface AutoTableConfig<T> {\r\n  data$: Observable<T[]>;\r\n  debug?: boolean;\r\n  filename?: string;\r\n  actions?: ActionDefinition<T>[];\r\n  actionsBulk?: ActionDefinitionBulk<T>[];\r\n  bulkSelectMaxCount?: number;\r\n  onSelectItem?: (row: T) => void;\r\n  onSelectItemDoubleClick?: (row: T) => void;\r\n  clearSelected?: Observable<void>;\r\n  initialSort?: string;\r\n  initialSortDir?: \"asc\" | \"desc\";\r\n  pageSize?: number;\r\n  hideFields?: string[];\r\n  hideFilter?: boolean;\r\n  hideHeader?: boolean;\r\n  hideChooseColumns?: boolean;\r\n  filterText?: string;\r\n  exportFilename?: string;\r\n  exportRowFormat?: (row: T) => void;\r\n  $triggerSelectItem?: Observable<T>;\r\n}\r\n\r\nexport interface ActionDefinition<T> {\r\n  label: string;\r\n  icon?: string;\r\n  onClick?: (row: T) => void;\r\n  onRouterLink?: (row: T) => string;\r\n  routerLinkQuery?: (row: T) => {};\r\n}\r\n\r\nexport interface ActionDefinitionBulk<T> {\r\n  label: string;\r\n  icon?: string;\r\n  onClick?: (row: T[]) => void;\r\n}\r\n\r\nexport interface ColumnDefinition {\r\n  header?: string;\r\n  template?: any;\r\n  hide?: boolean;\r\n  forceWrap?: boolean;\r\n}\r\n\r\ninterface ColumnDefinitionInternal extends ColumnDefinition {\r\n  field: string;\r\n}\r\n\r\n@Component({\r\n  selector: \"ngx-auto-table\",\r\n  templateUrl: \"./ngx-auto-table.component.html\",\r\n  styleUrls: [\"./ngx-auto-table.component.scss\"]\r\n})\r\nexport class AutoTableComponent<T> implements OnInit, OnDestroy {\r\n  @Output()\r\n  selectedBulk = new EventEmitter<T[]>();\r\n  @Input()\r\n  config: AutoTableConfig<T>;\r\n  @Input()\r\n  columnDefinitions: {\r\n    [field: string]: ColumnDefinition;\r\n  } = {};\r\n  columnDefinitionsAll: {\r\n    [field: string]: ColumnDefinition;\r\n  } = {};\r\n  columnDefinitionsAllArray: ColumnDefinitionInternal[] = [];\r\n\r\n  headerKeysAll = [];\r\n  headerKeysAllVisible = [];\r\n  headerKeysDisplayed = [];\r\n  headerKeysDisplayedMap = {};\r\n\r\n  dataSource: MatTableDataSource<any>;\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  pageSize = 25;\r\n  @ViewChild(MatSort) sort: MatSort;\r\n\r\n  exportData: any[];\r\n  exportFilename: string;\r\n\r\n  hasNoItems: boolean;\r\n\r\n  filterControl = new FormControl();\r\n  // Bulk items selection\r\n  selectionMultiple = new SelectionModel<any>(true, []);\r\n  selectionSingle = new SelectionModel<any>(false, []);\r\n\r\n  $onDestroyed = new Subject();\r\n\r\n  ngOnInit() {\r\n    this.config.data$\r\n      .pipe(filter(e => !!e))\r\n      .pipe(takeUntil(this.$onDestroyed))\r\n      .subscribe(originalData => {\r\n        console.log(\"ngx-auto-table, subscribed: \", { originalData });\r\n        this.dataSource = new MatTableDataSource(originalData);\r\n        this.dataSource.paginator = this.paginator;\r\n        this.dataSource.sort = this.sort;\r\n        if (originalData && !originalData.length) {\r\n          this.hasNoItems = true;\r\n          return;\r\n        } else {\r\n          this.hasNoItems = false;\r\n        }\r\n        if (this.config.pageSize) {\r\n          this.pageSize = this.config.pageSize;\r\n        }\r\n        const firstDataItem = originalData[0];\r\n        this.initDisplayedColumns(firstDataItem);\r\n        this.initExport(originalData);\r\n        this.initFilter(originalData);\r\n      });\r\n\r\n    if (this.config.$triggerSelectItem) {\r\n      this.config.$triggerSelectItem\r\n        .pipe(takeUntil(this.$onDestroyed))\r\n        .subscribe(item => {\r\n          this.log(\"$triggerSelectItem\", item);\r\n          const str = JSON.stringify(item);\r\n          const foundItem = this.dataSource.data.find(\r\n            row => JSON.stringify(row) === str\r\n          );\r\n          if (foundItem) {\r\n            this.selectionSingle.select(foundItem);\r\n          }\r\n        });\r\n    }\r\n\r\n    if (this.config.clearSelected) {\r\n      this.config.clearSelected\r\n        .pipe(takeUntil(this.$onDestroyed))\r\n        .subscribe(() => {\r\n          this.log(\"clearSelected\");\r\n          this.selectionMultiple.clear();\r\n          this.selectionSingle.clear();\r\n        });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.$onDestroyed.next();\r\n    this.$onDestroyed.complete();\r\n  }\r\n\r\n  applyFilter(filterValue: string) {\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n    this.selectionMultiple.clear();\r\n    this.selectionSingle.clear();\r\n  }\r\n\r\n  initFilter(originalData: T[]) {\r\n    if (!originalData.length) {\r\n      return;\r\n    }\r\n    const firstRow = originalData[0];\r\n    const keysData = new Set(Object.keys(firstRow));\r\n    const keysHeader = new Set(this.headerKeysDisplayed);\r\n    keysHeader.delete(\"__bulk\");\r\n    keysHeader.delete(\"__star\");\r\n    const allFieldsExist = Array.from(keysHeader).reduce((acc, cur) => {\r\n      return keysData.has(cur) && acc;\r\n    }, true);\r\n\r\n    this.log(\"initFilter()\", {\r\n      rowFields: keysData,\r\n      allFieldsExist,\r\n      headerKeysDisplayed: this.headerKeysDisplayed\r\n    });\r\n    this.dataSource.filterPredicate = (data: T, filterText: string) => {\r\n      if (!filterText) {\r\n        return true;\r\n      }\r\n      if (!allFieldsExist) {\r\n        const lower = JSON.stringify(data).toLowerCase();\r\n        return lower.includes(filterText);\r\n      }\r\n      for (const key of Array.from(keysHeader)) {\r\n        const dataVal = data[key];\r\n        const str = JSON.stringify(dataVal);\r\n        const isFound = str.toLowerCase().includes(filterText);\r\n        if (isFound) {\r\n          return true;\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  initExport(originalData: T[]) {\r\n    this.exportFilename = this.config.exportFilename;\r\n    if (!this.exportFilename) {\r\n      return;\r\n    }\r\n    this.exportData = originalData.map(dataItem => {\r\n      if (!this.config.exportRowFormat) {\r\n        return dataItem;\r\n      }\r\n      return this.config.exportRowFormat(dataItem);\r\n    });\r\n  }\r\n\r\n  public getKeyHeader(key: string) {\r\n    const inputDef = this.columnDefinitions[key];\r\n    if (inputDef && inputDef.header != null) {\r\n      return inputDef.header;\r\n    }\r\n    return this.toTitleCase(key);\r\n  }\r\n\r\n  private toTitleCase(str) {\r\n    return str.replace(\"_\", \" \").replace(/\\w\\S*/g, function(txt) {\r\n      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n    });\r\n  }\r\n\r\n  initDisplayedColumns(firstDataItem: T) {\r\n    this.initColumnDefinitions(firstDataItem);\r\n\r\n    this.headerKeysAll = Object.keys(this.columnDefinitionsAll);\r\n    this.headerKeysAllVisible = this.headerKeysAll;\r\n    if (this.config.hideFields) {\r\n      // Hide fields if specified\r\n      const hideFields = new Set(this.config.hideFields);\r\n      this.headerKeysAllVisible = this.headerKeysAll.filter(\r\n        x => !hideFields.has(x)\r\n      );\r\n    }\r\n\r\n    const displayed = this.columnDefinitionsAllArray\r\n      .filter(def => !def.hide)\r\n      .map(d => d.field);\r\n\r\n    this.setDisplayedColumns(displayed);\r\n    // Set currently enabled items\r\n    this.filterControl.setValue(this.headerKeysDisplayed);\r\n  }\r\n\r\n  initColumnDefinitions(firstDataItem: T) {\r\n    // Set all column defintions, which were explicitly set in config\r\n    const inputDefintionFields = Object.keys(this.columnDefinitions);\r\n    inputDefintionFields.forEach((field: string) => {\r\n      const inputDefintion = this.columnDefinitions[field];\r\n      this.columnDefinitionsAll[field] = {\r\n        header: this.getKeyHeader(field),\r\n        template: inputDefintion.template,\r\n        hide: inputDefintion.hide,\r\n        forceWrap: inputDefintion.forceWrap\r\n      };\r\n    });\r\n\r\n    // Set all column defintions read from the \"input data\"\r\n    const inputDataKeys = Object.keys(firstDataItem);\r\n    inputDataKeys.forEach((field: string) => {\r\n      if (!!this.columnDefinitionsAll[field]) {\r\n        // skip if definition exists\r\n        return;\r\n      }\r\n      this.columnDefinitionsAll[field] = {\r\n        header: this.toTitleCase(field),\r\n        hide: true\r\n      };\r\n    });\r\n\r\n    this.columnDefinitionsAllArray = Object.keys(this.columnDefinitionsAll).map(\r\n      k => {\r\n        return {\r\n          ...this.columnDefinitionsAll[k],\r\n          field: k\r\n        };\r\n      }\r\n    );\r\n    this.log(\"initColumnDefinitions\", {\r\n      firstDataItem,\r\n      inputDefintionFields\r\n    });\r\n  }\r\n\r\n  // Sets the displayed columns from a set of fieldnames\r\n  setDisplayedColumns(selected: string[]) {\r\n    // Initialize all keys as false\r\n    this.headerKeysAllVisible.forEach(\r\n      k => (this.headerKeysDisplayedMap[k] = false)\r\n    );\r\n    // Set selected as true\r\n    selected.forEach(c => (this.headerKeysDisplayedMap[c] = true));\r\n    this.headerKeysDisplayed = Object.keys(this.headerKeysDisplayedMap).filter(\r\n      k => this.headerKeysDisplayedMap[k]\r\n    );\r\n    // Add bulk select column at start\r\n    if (this.config.actionsBulk) {\r\n      this.headerKeysDisplayed.unshift(\"__bulk\");\r\n    }\r\n    // Add actions column at end\r\n    if (this.config.actions) {\r\n      this.headerKeysDisplayed.push(\"__star\");\r\n    }\r\n  }\r\n\r\n  /** Whether the number of selected elements matches the total number of rows. */\r\n  isAllSelected() {\r\n    const numSelected = this.selectionMultiple.selected.length;\r\n    const numRows =\r\n      this.config.bulkSelectMaxCount || this.dataSource.filteredData.length;\r\n    return numSelected >= numRows;\r\n  }\r\n\r\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\r\n  masterToggle() {\r\n    this.isAllSelected() ? this.selectionMultiple.clear() : this.selectAll();\r\n    this.selectedBulk.emit(this.selectionMultiple.selected);\r\n  }\r\n\r\n  private selectAll() {\r\n    this.dataSource.sortData(\r\n      this.dataSource.filteredData,\r\n      this.dataSource.sort\r\n    );\r\n    let cutArray = this.dataSource.filteredData;\r\n    if (this.config.bulkSelectMaxCount) {\r\n      cutArray = this.dataSource.filteredData.slice(\r\n        0,\r\n        this.config.bulkSelectMaxCount\r\n      );\r\n    }\r\n    cutArray.forEach(row => {\r\n      this.selectionMultiple.select(row);\r\n    });\r\n  }\r\n\r\n  isMaxReached() {\r\n    if (!this.config.bulkSelectMaxCount) {\r\n      return false;\r\n    }\r\n    return (\r\n      this.selectionMultiple.selected.length >= this.config.bulkSelectMaxCount\r\n    );\r\n  }\r\n\r\n  onColumnFilterChange($event) {\r\n    console.log({ $event });\r\n    const selectedValues = this.filterControl.value;\r\n    this.setDisplayedColumns(selectedValues);\r\n    this.initFilter(this.dataSource.data);\r\n  }\r\n\r\n  onClickBulkItem($event, item) {\r\n    if ($event) {\r\n      const isSelected = this.selectionMultiple.isSelected(item);\r\n      if (!this.isMaxReached()) {\r\n        this.selectionMultiple.toggle(item);\r\n      } else {\r\n        if (isSelected) {\r\n          this.selectionMultiple.deselect(item);\r\n        } else {\r\n          this.warn();\r\n        }\r\n      }\r\n      this.selectedBulk.emit(this.selectionMultiple.selected);\r\n    }\r\n  }\r\n\r\n  onClickRow($event, row: T) {\r\n    if (this.config.onSelectItem) {\r\n      this.log(\"onClickRow()\", { $event, row });\r\n      this.selectionSingle.select(row);\r\n      this.config.onSelectItem(row);\r\n    }\r\n  }\r\n\r\n  onDoubleClickRow($event, row: T) {\r\n    if (this.config.onSelectItemDoubleClick) {\r\n      this.log(\"onDoubleClickRow()\", { $event, row });\r\n      this.selectionSingle.select(row);\r\n      this.config.onSelectItemDoubleClick(row);\r\n    }\r\n  }\r\n\r\n  async onClickBulkAction(action: ActionDefinitionBulk<T>) {\r\n    await action.onClick(this.selectionMultiple.selected);\r\n    this.selectionMultiple.clear();\r\n  }\r\n\r\n  log(str: string, obj?: any) {\r\n    if (this.config.debug) {\r\n      console.log(\"<ngx-auto-table> : \" + str, obj);\r\n    }\r\n  }\r\n\r\n  warn() {}\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-toolbar-loader',\r\n  template: `\r\n    <mat-toolbar-row>\r\n      <div class=\"loader-container is-button-icon\">\r\n        <div class=\"loader-div\">\r\n          <mat-spinner [diameter]=\"40\"></mat-spinner>\r\n        </div>\r\n      </div>\r\n    </mat-toolbar-row>\r\n  `,\r\n  styles: [\r\n    `\r\n      .loader-container {\r\n        width: 100% !important;\r\n        display: flex !important;\r\n        padding: 0px 0px;\r\n        z-index: 100000000;\r\n      }\r\n      .loader-div {\r\n        margin: auto;\r\n      }\r\n      .loader-container,\r\n      .is-button-icon {\r\n        display: inline-block;\r\n        margin: 0;\r\n        margin-bottom: -4px;\r\n        margin-right: 5px;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class AppTableLoaderComponent {}\r\n","// Angular\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport {\r\n  MatAutocompleteModule,\r\n  MatButtonModule,\r\n  MatButtonToggleModule,\r\n  MatPaginatorModule,\r\n  MatCheckboxModule,\r\n  MatFormFieldModule,\r\n  MatIconModule,\r\n  MatInputModule,\r\n  MatProgressBarModule,\r\n  MatProgressSpinnerModule,\r\n  MatSelectModule,\r\n  MatSortModule,\r\n  MatTableModule,\r\n  MatToolbarModule,\r\n  MatMenuModule\r\n} from '@angular/material';\r\n\r\nimport { CsvModule } from '@ctrl/ngx-csv';\r\nimport { AppExportCsvExportComponent } from './app-table-csv-export.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AutoTableComponent } from './ngx-auto-table.component';\r\nimport { AppTableLoaderComponent } from './app-table-loader.component';\r\n\r\nconst sharedComponents = [AutoTableComponent, AppTableLoaderComponent];\r\n\r\n@NgModule({\r\n  declarations: [...sharedComponents, AppExportCsvExportComponent],\r\n  exports: sharedComponents,\r\n  imports: [\r\n    CsvModule,\r\n    ReactiveFormsModule,\r\n    MatAutocompleteModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCheckboxModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatMenuModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatSelectModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatToolbarModule,\r\n    CommonModule,\r\n    RouterModule,\r\n  ]\r\n})\r\nexport class AutoTableModule {}\r\n"]}